<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>python文件操作 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="常用文件： 123456789101112131415IGNORED_EXTENSIONS &#x3D; [    # 图片    &amp;#x27;mng&amp;#x27;, &amp;#x27;pct&amp;#x27;, &amp;#x27;bmp&amp;#x27;, &amp;#x27;gif&amp;#x27;, &amp;#x27;jpg&amp;#x27;, &amp;#x27;jpeg&amp;#x27;, &amp;#x27;png&amp;#x27;, &amp;#x27;pst&amp;#x27;, &amp;#">
<meta property="og:type" content="article">
<meta property="og:title" content="python文件操作">
<meta property="og:url" content="http://example.com/2019/02/26/python%E5%9F%BA%E7%A1%80/20190226_%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="常用文件： 123456789101112131415IGNORED_EXTENSIONS &#x3D; [    # 图片    &amp;#x27;mng&amp;#x27;, &amp;#x27;pct&amp;#x27;, &amp;#x27;bmp&amp;#x27;, &amp;#x27;gif&amp;#x27;, &amp;#x27;jpg&amp;#x27;, &amp;#x27;jpeg&amp;#x27;, &amp;#x27;png&amp;#x27;, &amp;#x27;pst&amp;#x27;, &amp;#">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-02-26T07:24:20.000Z">
<meta property="article:modified_time" content="2020-10-17T03:27:43.000Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="python基础">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-python基础/20190226_文件操作" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2019/02/26/python%E5%9F%BA%E7%A1%80/20190226_%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" class="article-date">
  <time class="dt-published" datetime="2019-02-26T07:24:20.000Z" itemprop="datePublished">2019-02-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>►<a class="article-category-link" href="/categories/python/python%E5%9F%BA%E7%A1%80/">python基础</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      python文件操作
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>常用文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">IGNORED_EXTENSIONS = [</span><br><span class="line">    <span class="comment"># 图片</span></span><br><span class="line">    <span class="string">&#x27;mng&#x27;</span>, <span class="string">&#x27;pct&#x27;</span>, <span class="string">&#x27;bmp&#x27;</span>, <span class="string">&#x27;gif&#x27;</span>, <span class="string">&#x27;jpg&#x27;</span>, <span class="string">&#x27;jpeg&#x27;</span>, <span class="string">&#x27;png&#x27;</span>, <span class="string">&#x27;pst&#x27;</span>, <span class="string">&#x27;psp&#x27;</span>, <span class="string">&#x27;tif&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;tiff&#x27;</span>, <span class="string">&#x27;ai&#x27;</span>, <span class="string">&#x27;drw&#x27;</span>, <span class="string">&#x27;dxf&#x27;</span>, <span class="string">&#x27;eps&#x27;</span>, <span class="string">&#x27;ps&#x27;</span>, <span class="string">&#x27;svg&#x27;</span>,</span><br><span class="line">    <span class="comment"># 音频</span></span><br><span class="line">    <span class="string">&#x27;mp3&#x27;</span>, <span class="string">&#x27;wma&#x27;</span>, <span class="string">&#x27;ogg&#x27;</span>, <span class="string">&#x27;wav&#x27;</span>, <span class="string">&#x27;ra&#x27;</span>, <span class="string">&#x27;aac&#x27;</span>, <span class="string">&#x27;mid&#x27;</span>, <span class="string">&#x27;au&#x27;</span>, <span class="string">&#x27;aiff&#x27;</span>,</span><br><span class="line">    <span class="comment"># 视频</span></span><br><span class="line">    <span class="string">&#x27;3gp&#x27;</span>, <span class="string">&#x27;asf&#x27;</span>, <span class="string">&#x27;asx&#x27;</span>, <span class="string">&#x27;avi&#x27;</span>, <span class="string">&#x27;mov&#x27;</span>, <span class="string">&#x27;mp4&#x27;</span>, <span class="string">&#x27;mpg&#x27;</span>, <span class="string">&#x27;qt&#x27;</span>, <span class="string">&#x27;rm&#x27;</span>, <span class="string">&#x27;swf&#x27;</span>, <span class="string">&#x27;wmv&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;m4a&#x27;</span>, <span class="string">&#x27;m4v&#x27;</span>, <span class="string">&#x27;flv&#x27;</span>,</span><br><span class="line">    <span class="comment"># 办公软件</span></span><br><span class="line">    <span class="string">&#x27;xls&#x27;</span>, <span class="string">&#x27;xlsx&#x27;</span>, <span class="string">&#x27;ppt&#x27;</span>, <span class="string">&#x27;pptx&#x27;</span>, <span class="string">&#x27;pps&#x27;</span>, <span class="string">&#x27;doc&#x27;</span>, <span class="string">&#x27;docx&#x27;</span>, <span class="string">&#x27;odt&#x27;</span>, <span class="string">&#x27;ods&#x27;</span>, <span class="string">&#x27;odg&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;odp&#x27;</span>,</span><br><span class="line">    <span class="comment"># 其它</span></span><br><span class="line">    <span class="string">&#x27;css&#x27;</span>, <span class="string">&#x27;pdf&#x27;</span>, <span class="string">&#x27;exe&#x27;</span>, <span class="string">&#x27;bin&#x27;</span>, <span class="string">&#x27;rss&#x27;</span>, <span class="string">&#x27;zip&#x27;</span>, <span class="string">&#x27;rar&#x27;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h4 id="文件的打开与关闭"><a href="#文件的打开与关闭" class="headerlink" title="文件的打开与关闭"></a>文件的打开与关闭</h4><p>在python，使用: open(文件名，访问模式) 函数，可以打开一个已经存在的文件，或者创建一个新文件</p>
<table>
<thead>
<tr>
<th>访问模式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td>w</td>
<td>打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>a</td>
<td>打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td>rb</td>
<td>以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。</td>
</tr>
<tr>
<td>wb</td>
<td>以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>ab</td>
<td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</td>
</tr>
<tr>
<td>r+</td>
<td>打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td>w+</td>
<td>打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>a+</td>
<td>打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。</td>
</tr>
<tr>
<td>rb+</td>
<td>以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。</td>
</tr>
<tr>
<td>wb+</td>
<td>以二进制格式打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</td>
</tr>
<tr>
<td>ab+</td>
<td>以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</td>
</tr>
</tbody></table>
<h4 id="文件的重命名和删除"><a href="#文件的重命名和删除" class="headerlink" title="文件的重命名和删除"></a>文件的重命名和删除</h4><p>os模块中的rename()可以完成对文件的重命名操作：rename(需要修改的文件名, 新的文件名)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.rename(<span class="string">&quot;test.py&quot;</span>, <span class="string">&quot;test1.py&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>os模块中的remove()可以完成对文件的删除操作:  remove(待删除的文件名)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.remove(<span class="string">&quot;毕业论文.txt&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="文件夹的相关操作"><a href="#文件夹的相关操作" class="headerlink" title="文件夹的相关操作"></a>文件夹的相关操作</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 创建文件夹</span></span><br><span class="line">os.mkdir(<span class="string">&quot;张三&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 获取当前目录</span></span><br><span class="line">os.getcwd()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 改变默认目录</span></span><br><span class="line">os.chdir(<span class="string">&quot;../&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. 获取目录列表</span></span><br><span class="line">os.listdir(<span class="string">&quot;./&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. 删除文件夹</span></span><br><span class="line">os.rmdir(<span class="string">&quot;张三&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>Python3 OS 文件/目录方法：<br>os 模块提供了非常丰富的方法用来处理文件和目录。常用的方法如下表所示：</p>
<p>os.access(path, mode) ：检验权限模式<br>os.chdir(path)：改变当前工作目录<br>os.chflags(path, flags)：设置路径的标记为数字标记。<br>os.chmod(path, mode)：更改权限<br>os.chown(path, uid, gid)：更改文件所有者<br>os.chroot(path)：改变当前进程的根目录<br>os.close(fd)：关闭文件描述符 fd<br>os.closerange(fd_low, fd_high)：关闭所有文件描述符，从 fd_low (包含) 到 fd_high (不包含), 错误会忽略<br>os.dup(fd)：复制文件描述符 fd<br>os.dup2(fd, fd2)：将一个文件描述符 fd 复制到另一个 fd2<br>os.fchdir(fd)：通过文件描述符改变当前工作目录<br>os.fchmod(fd, mode)：改变一个文件的访问权限，该文件由参数fd指定，参数mode是Unix下的文件访问权限。<br>os.fchown(fd, uid, gid)：修改一个文件的所有权，这个函数修改一个文件的用户ID和用户组ID，该文件由文件描述符fd指定。<br>os.fdatasync(fd)：强制将文件写入磁盘，该文件由文件描述符fd指定，但是不强制更新文件的状态信息。<br>os.fdopen(fd[, mode[, bufsize]])：通过文件描述符 fd 创建一个文件对象，并返回这个文件对象<br>os.fpathconf(fd, name)：返回一个打开的文件的系统配置信息。name为检索的系统配置的值，它也许是一个定义系统值的字符串，这些名字在很多标准中指定（POSIX.1, Unix 95, Unix 98, 和其它）。<br>os.fstat(fd)：返回文件描述符fd的状态，像stat()。<br>os.fstatvfs(fd)：返回包含文件描述符fd的文件的文件系统的信息，像 statvfs()<br>os.fsync(fd)：强制将文件描述符为fd的文件写入硬盘。<br>os.ftruncate(fd, length)：裁剪文件描述符fd对应的文件, 所以它最大不能超过文件大小。<br>os.getcwd()：返回当前工作目录<br>os.getcwdu()：返回一个当前工作目录的Unicode对象<br>os.isatty(fd)：如果文件描述符fd是打开的，同时与tty(-like)设备相连，则返回true, 否则False。<br>os.lchflags(path, flags)：设置路径的标记为数字标记，类似 chflags()，但是没有软链接<br>os.lchmod(path, mode)：修改连接文件权限<br>os.lchown(path, uid, gid)：更改文件所有者，类似 chown，但是不追踪链接。<br>os.link(src, dst)：创建硬链接，名为参数 dst，指向参数 src<br>os.listdir(path)：返回path指定的文件夹包含的文件或文件夹的名字的列表。<br>os.lseek(fd, pos, how)：设置文件描述符 fd当前位置为pos, how方式修改: SEEK_SET 或者 0 设置从文件开始的计算的pos; SEEK_CUR或者 1 则从当前位置计算; os.SEEK_END或者2则从文件尾部开始. 在unix，Windows中有效<br>os.lstat(path)：像stat(),但是没有软链接<br>os.major(device)：从原始的设备号中提取设备major号码 (使用stat中的st_dev或者st_rdev field)。<br>os.makedev(major, minor)：以major和minor设备号组成一个原始设备号<br>os.makedirs(path[, mode])：递归文件夹创建函数。像mkdir(), 但创建的所有intermediate-level文件夹需要包含子文件夹。<br>os.minor(device)：从原始的设备号中提取设备minor号码 (使用stat中的st_dev或者st_rdev field )。<br>os.mkdir(path[, mode])：以数字mode的mode创建一个名为path的文件夹.默认的 mode 是 0777 (八进制)。<br>os.mkfifo(path[, mode])：创建命名管道，mode 为数字，默认为 0666 (八进制)<br>os.mknod(filename[, mode=0600, device])：创建一个名为filename文件系统节点（文件，设备特别文件或者命名pipe）。<br>os.open(file, flags[, mode])：打开一个文件，并且设置需要的打开选项，mode参数是可选的<br>os.openpty()：打开一个新的伪终端对。返回 pty 和 tty的文件描述符。<br>os.pathconf(path, name)：返回相关文件的系统配置信息。<br>os.pipe()：创建一个管道. 返回一对文件描述符(r, w) 分别为读和写<br>os.popen(command[, mode[, bufsize]])：从一个 command 打开一个管道<br>os.read(fd, n)：从文件描述符 fd 中读取最多 n 个字节，返回包含读取字节的字符串，文件描述符 fd对应文件已达到结尾, 返回一个空字符串。<br>os.readlink(path)：返回软链接所指向的文件<br>os.remove(path)：删除路径为path的文件。如果path 是一个文件夹，将抛出OSError; 查看下面的rmdir()：删除一个 directory。<br>os.removedirs(path)：递归删除目录。<br>os.rename(src, dst)：重命名文件或目录，从 src 到 dst<br>os.renames(old, new)：递归地对目录进行更名，也可以对文件进行更名。<br>os.rmdir(path)：删除path指定的空目录，如果目录非空，则抛出一个OSError异常。<br>os.stat(path)：获取path指定的路径的信息，功能等同于C API中的stat()系统调用。<br>os.stat_float_times([newvalue])：决定stat_result是否以float对象显示时间戳<br>os.statvfs(path)：获取指定路径的文件系统统计信息<br>os.symlink(src, dst)：创建一个软链接<br>os.tcgetpgrp(fd)：返回与终端fd（一个由os.open()返回的打开的文件描述符）关联的进程组<br>os.tcsetpgrp(fd, pg)：设置与终端fd（一个由os.open()返回的打开的文件描述符）关联的进程组为pg。<br>os.tempnam([dir[, prefix]])：返回唯一的路径名用于创建临时文件。<br>os.tmpfile()：返回一个打开的模式为(w+b)的文件对象 .这文件对象没有文件夹入口，没有文件描述符，将会自动删除。<br>os.tmpnam()：为创建一个临时文件返回一个唯一的路径<br>os.ttyname(fd)：返回一个字符串，它表示与文件描述符fd 关联的终端设备。如果fd 没有与终端设备关联，则引发一个异常。<br>os.unlink(path)：删除文件路径<br>os.utime(path, times)：返回指定的path文件的访问和修改的时间。<br>os.walk(top[, topdown=True[, onerror=None[, followlinks=False]]])：输出在文件夹中的文件名通过在树中游走，向上或者向下。<br>os.write(fd, str)：写入字符串到文件描述符 fd中. 返回实际写入的字符串长度</p>
<h4 id="3-案例"><a href="#3-案例" class="headerlink" title="3. 案例"></a>3. 案例</h4><p>1、用python处理文本数据，并删除处理之后的数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 根据条件把一个文本分成两个文本</span></span><br><span class="line"><span class="comment"># with open(r&#x27;list_object.txt&#x27;, &#x27;r&#x27;) as file:</span></span><br><span class="line"><span class="comment">#     lines = file.readlines()</span></span><br><span class="line"><span class="comment">#     for key_word in lines:</span></span><br><span class="line"><span class="comment">#         if key_word.startswith(&#x27;files/cninfo_category_daily_update/&#x27;):</span></span><br><span class="line"><span class="comment">#             with open(r&#x27;zs_stock.txt&#x27;, &#x27;a&#x27;, encoding=&#x27;utf-8&#x27;) as file:</span></span><br><span class="line"><span class="comment">#                 file.write(key_word)</span></span><br><span class="line"><span class="comment">#         else:</span></span><br><span class="line"><span class="comment">#             with open(r&#x27;zs_bond.txt&#x27;, &#x27;a&#x27;, encoding=&#x27;utf-8&#x27;) as file:</span></span><br><span class="line"><span class="comment">#                 file.write(key_word)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理文本数据，并删除处理之后的数据</span></span><br><span class="line">kafka_list = []</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;files/zs_stock.txt&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    lines = file.readlines()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;读取文本行数：&#x27;</span>, <span class="built_in">len</span>(lines))</span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> lines[<span class="number">0</span>:<span class="number">5</span>]:</span><br><span class="line">        kafka_list.append(num)</span><br><span class="line">        lines.remove(num)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;kafka_list:&#x27;</span>, kafka_list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;files/zs_stock.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;删除已传送jds路径之后文本行数：&#x27;</span>, <span class="built_in">len</span>(lines))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> lines:</span><br><span class="line">            f.write(i)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2、输入文件的名字，然后程序自动完成对文件进行备份</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line">oldFileName = <span class="built_in">input</span>(<span class="string">&quot;请输入要拷贝的文件名字:&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(oldFileName, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> oldFile:</span><br><span class="line">    <span class="comment"># 如果打开文件</span></span><br><span class="line">    <span class="keyword">if</span> oldFile:</span><br><span class="line">        <span class="comment"># 提取文件的后缀</span></span><br><span class="line">        fileFlagNum = oldFileName.rfind(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> fileFlagNum &gt; <span class="number">0</span>:</span><br><span class="line">            fileFlag = oldFileName[fileFlagNum:]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 组织新的文件名字</span></span><br><span class="line">        newFileName = oldFileName[:fileFlagNum] + <span class="string">&#x27;[复件]&#x27;</span> + fileFlag</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 创建新文件</span></span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(newFileName, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> newFile:</span><br><span class="line">            <span class="comment"># 把旧文件中的数据，一行一行的进行复制到新文件中</span></span><br><span class="line">            <span class="keyword">for</span> lineContent <span class="keyword">in</span> oldFile.readlines():</span><br><span class="line">                newFile.write(lineContent)</span><br></pre></td></tr></table></figure>


<p>3、批量在文件名前加前缀</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">funFlag = <span class="number">1</span>  <span class="comment"># 1表示添加标志  2表示删除标志</span></span><br><span class="line">folderName = <span class="string">&#x27;./test_fo/&#x27;</span></span><br><span class="line"><span class="comment"># 获取指定路径的所有文件名字</span></span><br><span class="line">dirList = os.listdir(folderName)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历输出所有文件名字</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> dirList:</span><br><span class="line">    <span class="built_in">print</span>(name)</span><br><span class="line">    <span class="keyword">if</span> funFlag == <span class="number">1</span>:  <span class="comment"># 增加前缀</span></span><br><span class="line">        newName = <span class="string">&#x27;[东哥出品]-&#x27;</span> + name</span><br><span class="line">    <span class="keyword">elif</span> funFlag == <span class="number">2</span>:  <span class="comment"># 去除前缀</span></span><br><span class="line">        num = <span class="built_in">len</span>(<span class="string">&#x27;[东哥出品]-&#x27;</span>)</span><br><span class="line">        newName = name[num:]</span><br><span class="line">    <span class="built_in">print</span>(newName)</span><br><span class="line"></span><br><span class="line">    os.rename(folderName + name, folderName + newName)</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2019/02/26/python%E5%9F%BA%E7%A1%80/20190226_%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/" data-id="ckqd7wfuq001bogtgb5oj3l64" data-title="python文件操作" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python%E5%9F%BA%E7%A1%80/" rel="tag">python基础</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/02/28/python%E5%9F%BA%E7%A1%80/20190228_%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          python网络编程
        
      </div>
    </a>
  
  
    <a href="/2019/02/25/python%E5%9F%BA%E7%A1%80/20190225_%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">python进程和线程</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/python/fastapi/">fastapi</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/flask/">flask</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/python%E5%9F%BA%E7%A1%80/">python基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/python%E6%A1%88%E4%BE%8B/">python案例</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/%E7%88%AC%E8%99%AB/">爬虫</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/python/%E7%88%AC%E8%99%AB/pyppeteer/">pyppeteer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/%E7%88%AC%E8%99%AB/scrapy/">scrapy</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/%E7%88%AC%E8%99%AB/selenium/">selenium</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/fastapi/" rel="tag">fastapi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/" rel="tag">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pyppeteer/" rel="tag">pyppeteer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python3/" rel="tag">python3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python%E5%9F%BA%E7%A1%80/" rel="tag">python基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python%E6%A1%88%E4%BE%8B/" rel="tag">python案例</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scrapy/" rel="tag">scrapy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/selenium/" rel="tag">selenium</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%A0%81%E9%9B%A8/" rel="tag">代码雨</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%8D%E7%88%AC/" rel="tag">反爬</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/fastapi/" style="font-size: 10px;">fastapi</a> <a href="/tags/flask/" style="font-size: 10px;">flask</a> <a href="/tags/pyppeteer/" style="font-size: 12px;">pyppeteer</a> <a href="/tags/python/" style="font-size: 18px;">python</a> <a href="/tags/python3/" style="font-size: 10px;">python3</a> <a href="/tags/python%E5%9F%BA%E7%A1%80/" style="font-size: 20px;">python基础</a> <a href="/tags/python%E6%A1%88%E4%BE%8B/" style="font-size: 12px;">python案例</a> <a href="/tags/scrapy/" style="font-size: 14px;">scrapy</a> <a href="/tags/selenium/" style="font-size: 12px;">selenium</a> <a href="/tags/%E4%BB%A3%E7%A0%81%E9%9B%A8/" style="font-size: 10px;">代码雨</a> <a href="/tags/%E5%8F%8D%E7%88%AC/" style="font-size: 10px;">反爬</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 16px;">爬虫</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/06/26/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2020/12/02/my_application/20201202_%E5%B0%86excel%E4%B8%AD%E7%9A%84%E5%86%85%E5%AE%B9%E5%AD%98%E5%85%A5mysql/">将excel中的内容存入mysql</a>
          </li>
        
          <li>
            <a href="/2020/10/15/my_application/20201015_%E4%BB%A3%E7%A0%81%E9%9B%A8/">用python实现代码雨（电影黑客帝国里的效果，代码可直接运行）</a>
          </li>
        
          <li>
            <a href="/2020/09/29/spider/20200929_%E4%B8%89%E7%A7%8D%E5%8A%A0%E5%AF%86%E6%96%B9%E5%BC%8F/">三种加密方式 sha1加密、MD5加密、Base64加密 (附H5源码和js源码)</a>
          </li>
        
          <li>
            <a href="/2020/07/15/spider/scrapy/20200715_%20ajaxcrawl/">scrapy源码12 - ajaxcrawl</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>